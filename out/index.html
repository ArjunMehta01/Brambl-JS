<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>LokiJS</h1>
<p>A NodeJS library to facilitate interaction with the Topl blockchain network. This server-side SDK is compliant with the Dion version of the Topl protocol as defined by the reference implementation, <a href="https://github.com/topl/bifrost">Bifrost client</a>.</p>
<h1>Installation</h1>
<p>To install from npm run <code>npm install --save bifrost-lokijs</code> in your project directory<br/></p>
<p>To install from source:</p>
<ul>
<li>Git clone using <code>git clone https://github.com/topl/LokiJS</code></li>
<li>Run <code>npm run install</code> within the cloned repo to install all dependencies</li>
</ul>
<h1>Usage</h1>
<p>To create a minimal instance of LokiJS in your application, include the following commands:<br/></p>
<pre class="prettyprint source"><code>const LokiJS = require('bifrost-lokijs');
const loki = new LokiJS('PASSWORD')
</code></pre>
<p>This will create a new <code>Requests</code> instance targetting a local node running at <code>http://localhost:9085</code> and generate a new <code>KeyManager</code> instance for signing transactions, using Curve25519 and encrypted with <code>PASSWORD</code></p>
<p>LokiJS provides the following modules:</p>
<ul>
<li><code>Loki</code> - <a href="./Loki.html">(link)</a> - parent module that provides high-level capabilities and access to</li>
<li><code>Requests</code> - <a href="./Requests.html">(link)</a> - sub-module for sending json-rpc requests to a specified chain provider.</li>
<li><code>KeyManager</code> - <a href="./KeyManager.html">(link)</a> - module provides functions for creating, importing, and exporting Bifrost compatible keyfiles.</li>
<li>The <code>Hash</code> module recreates hashes calculated in Bifrost</li>
</ul>
<p>For detailed descriptions of all available methods, please use the links given for each class above.</p>
<h2>Requests</h2>
<p>The <code>Requests</code> module is compliant with Bifrost's Loki Layer interface documented at https://lokilayer.docs.topl.co <br/>
A new Loki Layer interface class may be instantiated by <br/>
<code>const requests = LokiJS.Requests()</code></p>
<p>By default requests will be sent to <code>http://localhost:9085</code>. This is the standard address and API port that Bifrost listens on when launched locally. All of the methods available in this module are asynchronous and will return <code>Promises</code> that must be handled using <code>async/await</code> structures or <code>.then()</code>. For example:</p>
<pre class="prettyprint source"><code>requests.chainInfo().then(console.log).catch(console.error)
</code></pre>
<h3>Loki-layer API key protection</h3>
<p>By default, Bifrost uses an API key of <code>topl_the_world!</code> to validate requests on locally running test nets. If you are planning to use the Topl Torus service for servicing API requests, you will need to register for an API key from Torus and subsequently use this value in the constructor of the Loki layer object. Standard best practices for protecting API keys should be followed in this case (i.e. saving variables in .ENV or config files that are not shared with version control).</p>
<h2>KeyManager</h2>
<p>The <code>KeyManager</code> module is compliant with Bifrost's Gjallarhorn Key Manager service.</p>
<ul>
<li>New encrypted keyfiles are generated using Curve25519 key pairs and an AES-256 cipher with a user-specified password. All data within the keyfile is encoded using Base58.</li>
<li>Transaction creation using locally managed keyfiles is implemented by:
<ol>
<li>Requesting a prototype transaction from a specified network provider (i.e Topl Torus service or local private testnet)</li>
<li>Signing the raw transaction bytes using the locally managed keyfile thruogh LokiJS.</li>
<li>Sending the fully formed transaction to the <code>broadcast</code> method of your chosen network provider.</li>
</ol>
</li>
</ul>
<p>A new  <code>KeyManager</code> may be created directly using<br/></p>
<pre class="prettyprint source"><code>const keyManager = new LokiJS.KeyManager('PASSWORD')
</code></pre>
<p>where <code>'PASSWORD'</code> is the user provided encryption password for the keyfile.</p>
<h1>Examples</h1>
<h1>License</h1>
<p>LokiJS is licensed under the
<a href="https://www.mozilla.org/en-US/MPL/2.0">Mozilla Public License version 2.0 (MPL 2.0)</a>, also included
in our repository in the <code>LICENSE</code> file.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Hash.html">Hash</a></li><li><a href="KeyManager.html">KeyManager</a></li><li><a href="Loki.html">Loki</a></li><li><a href="Requests.html">Requests</a></li></ul><h3>Global</h3><ul><li><a href="global.html#create">create</a></li><li><a href="global.html#decrypt">decrypt</a></li><li><a href="global.html#deriveKey">deriveKey</a></li><li><a href="global.html#digestAndEncode">digestAndEncode</a></li><li><a href="global.html#dump">dump</a></li><li><a href="global.html#encrypt">encrypt</a></li><li><a href="global.html#generateKeystoreFilename">generateKeystoreFilename</a></li><li><a href="global.html#getMAC">getMAC</a></li><li><a href="global.html#hashFunc">hashFunc</a></li><li><a href="global.html#isCipherAvailable">isCipherAvailable</a></li><li><a href="global.html#LokiRequest">LokiRequest</a></li><li><a href="global.html#marshal">marshal</a></li><li><a href="global.html#recover">recover</a></li><li><a href="global.html#str2buf">str2buf</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Wed Apr 08 2020 21:57:19 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>